import{G as k,u as C,j as e,a as f,y as u,r as a,M as y,L as p,S as v,b as S,I as A,F as I,c as L}from"./index-EKfNZqK7.js";function D(s){return k({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 1.75V3h5.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75Zm-6.5 0V3h5V1.75a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25ZM4.997 6.178a.75.75 0 1 0-1.493.144L4.916 20.92a1.75 1.75 0 0 0 1.742 1.58h10.684a1.75 1.75 0 0 0 1.742-1.581l1.413-14.597a.75.75 0 0 0-1.494-.144l-1.412 14.596a.25.25 0 0 1-.249.226H6.658a.25.25 0 0 1-.249-.226L4.997 6.178Z"},child:[]},{tag:"path",attr:{d:"M9.206 7.501a.75.75 0 0 1 .793.705l.5 8.5A.75.75 0 1 1 9 16.794l-.5-8.5a.75.75 0 0 1 .705-.793Zm6.293.793A.75.75 0 1 0 14 8.206l-.5 8.5a.75.75 0 0 0 1.498.088l.5-8.5Z"},child:[]}]})(s)}const E=({question:s,id:o,setLayer:d,setItemDeleted:l})=>{const i=C(),c=n=>{n&&f.delete("https://vica.website/api/items/"+o,{headers:{Authorization:"Bearer "+localStorage.getItem("token"),Accept:"application/json"}}).then(r=>{console.log(r),l(1),u.success("Product Deleted Successfully"),i("/dashboard")}).catch(r=>{console.log(r)}),u.dismiss(),d(!1)};return e.jsxs("div",{className:"relative w-[70%] h-full flex flex-col justify-center items-center text-center font-medium dark:bg-dark dark:text-white ",children:[e.jsx("p",{className:" mb-9",children:s}),e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("button",{className:"rounded-md text-black  bg-gray-300 w-[80px] h-[30px] text-[14px] cursor-pointer",onClick:()=>c(!1),children:"No"}),e.jsx("button",{className:"rounded-md bg-red-700 text-white w-[80px] h-[30px] text-[14px] cursor-pointer",onClick:()=>c(!0),children:"Yes"})]})]})},M=({id:s,image_url:o,name:d,price:l,setLayer:i,setItemDeleted:c})=>{const n=a.useContext(y);let r;n?r="light":r="dark";const x=()=>{i(!0),u(e.jsx(E,{question:"Are you sure to delete this product?",setLayer:i,id:s,setItemDeleted:c}),{autoClose:!1,closeOnClick:!1,draggable:!1,closeButton:!1,position:"top-center",className:"w-[300px] h-[150px] flex flex-col justify-center items-center -top-4 z-50",theme:r})};return e.jsxs("div",{className:"w-[250px] h-[290px] rounded-md shadow-md dark:bg-dark bg-white p-4 dark:text-white flex flex-col justify-between",children:[e.jsx("img",{className:" max-h-[60%] mx-auto mb-4",src:o,alt:""}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[18px] font-medium",children:d}),e.jsxs("p",{className:"text-blue-500 font-medium text-[14px] mt-1",children:["$",l]}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsx(p,{to:"/dashboard/edit/"+s,className:"cursor-pointer text-[12px] font-medium py-1 rounded-4xl bg-blue-100 w-[60%] text-black dark:bg-gray-500 dark:text-white text-center",children:"Edit Product"}),e.jsxs("button",{title:"delete",onClick:x,className:"cursor-pointer",children:[" ",e.jsx(D,{className:"text-[18px]"})]})]})]})]},s)},R=()=>{const s=a.useContext(v),[o,d]=a.useState(S()),[l,i]=a.useState(0),[c,n]=a.useState(4),[r,x]=a.useState(!1),[m,j]=a.useState(0),[h,g]=a.useState(o);let b=h.length;const w=()=>{l-4>=0&&(i(l-4),n(c-4))},N=()=>{l+4<b&&(i(l+4),n(c+4))};return a.useEffect(()=>{g(o.filter(t=>t.name.includes(s)))},[s,o]),a.useEffect(()=>{m&&f.get("https://vica.website/api/items",{headers:{Authorization:"Bearer "+localStorage.getItem("token"),Accept:"application/json"}}).then(t=>{console.log(t),d(t.data)}).catch(t=>{console.log(t)})},[m]),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:` ${r?"bg-gray-700/50 w-screen h-screen absolute z-50 -top-[82px] -left-[231px]":""}`,children:" "}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-2xl font-medium dark:text-white",children:"All Products"}),e.jsxs(p,{to:"/dashboard/create",className:"bg-blue-700 flex items-center justify-center gap-1 text-white w-[180px] h-10 rounded-md cursor-pointer",children:[e.jsx(A,{className:"text-[22px]"})," Create Product"]})]}),e.jsx("div",{className:"flex flex-wrap gap-6 mt-5",children:h?.slice(l,c).map(t=>e.jsx(M,{id:t.id,name:t.name,image_url:t.image_url,price:t.price,setLayer:x,setItemDeleted:j},t.id))}),e.jsxs("div",{className:" flex justify-between w-[25%] h-[100px] m-auto mt-20",children:[e.jsxs("button",{title:"toLeft",onClick:w,className:"cursor-pointer",children:[" ",e.jsx(I,{className:"text-7xl text-gray-400"})]}),e.jsx("button",{title:"toRight",onClick:N,className:"cursor-pointer",children:e.jsx(L,{className:"text-7xl text-gray-400"})})]})]})};export{R as default};
